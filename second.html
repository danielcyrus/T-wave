<!doctype html>
<html lang="en">
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="resources/css/main2.css">
       <!-- <link rel="stylesheet" href="resources/css/tooltip.css">-->
        <link href="resources/css/fontawesome.css" rel="stylesheet">
     <!--<link href="resources/css/brands.css" rel="stylesheet">-->
    <link href="resources/css/solid.css" rel="stylesheet">
    <!--<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>-->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
     <!-- <script src="resources/js/chart.js"></script>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
   <!-- <script src="resources/js/three.js"></script> -->
    </head>
  
<body>
   <div>
       <img src="resources/img/au-logo.svg"/>
	   <h3>Department of Computer Science</h3>
       <h2>T And U Wave Repolarisation Model</h2>
   </div>
   <div>
    <div style="display: flex;" id="modeldiv">
     
   <div id="eggmodel" style="flex: 1;"> <b style="font-size: 19px;">Egg Model</b><br><div id="canvas3D" style="width:80%;height:80%;position: relative;"></div></div>

   <div id="graph" style="flex: 1;"> <b style="font-size: 19px;">Repolarisation Trace</b> 
    <br>
    <canvas id="eggChart" style="width:500px;height:500px;margin-left: 15%;"></canvas></div>
  </div>
   <div id="configure" style="width: 99%;">
    <b style="font-size: 19px;">Settings</b>
    <br>
    <br>
      <div id="div-slider" style ="width: 45%;height: 200px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle;border-radius: 5px;">
        <b>Model Orientation</b>
        <br>
        <table>
          <tr>
        <td>Rotate Vertically</td>
        <td>
        <div class="range3d_1" style="--step:10; --min:-90; --max:90">
          <input type="range" min="-180" step="10" value="0" id="myRangeY" max="180" oninput="resetSliderX(this)"  orient="vertical">
        </div></td>
        <td style="width: 20%;"></td>
        <td>Rotate Horizontally</td>
        <td><div class="range3d" style="--step:10; --min:-90; --max:90">
          <input type="range" min="-180" step="2" value="0" id="myRangeX" max="180" oninput="resetSliderY(this)">
        </div></td>
      </tr>
        </table>
        
      </div>
      <div id="div-display-graph" style ="width: 45%;height: 200px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle;text-align: center;">
        <b>Display Graph</b>
        <br>
      <table style="width: 100%;margin-left: 20%;margin-top: 20px;">
        <tr>
        <td><input class="elems" type="checkbox" id="Lead_V5" onchange="showOffCharts(this,0);" style="float: right;" checked="true"></td>
          <td><label for="Lead_V5" style="float: left;">Lead V5</label></td>
      </tr>
      <tr>
        <td><input class="elems" type="checkbox" id="Lead_sV1" onchange="showOffCharts(this,1);" style="float: right;" checked="true"></td>
        <td><label for="Lead_sV1" style="float: left;">Lead sV1</label></td>
        </tr>
        <tr>
          <td><input class="elems" type="checkbox" id="Lead_III" onchange="showOffCharts(this,2);" style="float: right;" checked="true"></td>
            <td><label for="Lead_III" style="float: left;">Lead III</label></td>
      </tr>
      </table>
        </div>
        <div id="div-slider" style ="margin-right: 15px;width: 20%;height: 250px ;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
          <b>Allocate Hypertrophy</b>
          <br>
          <br>
          <br>
          <table style="width: 100%;padding: 5%;">
        <tr>
         <td><label for="Basal_Septal" style="float:left"> Basal Septal </label></td> 
         <td><input class="elems" type="number" id="Basal_Septal"  min="1" max="1.5" step="0.1" value="1.0"></td>
        </tr>
        <tr>
          <td><label for="Apical_Septal" style="float:left"> Apical Septal </label></td>
          <td><input class="elems" type="number" id="Apical_Septal"  min="1" max="1.5" step="0.1" value="1.0" ></td>
        </tr>
          <tr>
            <td><label for="Left_Ventricular" style="float:left"> Left Ventricular </label></td>
              <td><input class="elems" type="number" id="Left_Ventricular"  min="1" max="1.5" step="0.1" value="1.0"> </td>
        </tr>
        <tr>
          <td><label for="Right_Ventricular" style="float:left"> Right Ventricular </label></td>
          <td><input class="elems" type="number" id="Right_Ventricular" min="1" max="1.5" step="0.1" value="1.0" ></td>
        </tr>
        </table>
        </div>
        <div id="div-slider" style ="width: 40%;height: 300px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
          <b>Allocate Artery Occlusion </b>
          <br>
          <table style="width: 100%;padding: 5%;">
          <tr>
            <td></td>
          <td><p style="text-align: center;font-size: 14px;">Proximal&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;Distal&ensp;</p></td>
          </tr>
          <tr>
            <td><label for="vehicle1"> Left Anterior Descending Artery </label></td>
              <td><input type="range" class="damage elems" orient="horizontal" min="1" max="21" value="21" id="lad" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle2"> Left Circumflex Artery </label></td>
              <td><input type="range" class="damage elems" orient="horizontal" min="9" max="22" value="22" id="lcx" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Proximal Right Coronary Artery </label></td>
              <td><input type="range" class="damage elems" orient="horizontal" min="9" max="22" value="22" id="rca" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Right Marginal Artery </label></td>
              <td><input type="range" class="damage elems" orient="horizontal" min="12" max="21" value="21" id="rma" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Posterior Descending Artery </label></td>
              <td><input type="range" class="damage elems" orient="horizontal" min="1" max="21" value="21" id="pda" step="1"/></td>
        </tr>
          <tr>
            <td><label for="Severity_Of_Occulsion"> Severity Of Occulsion </label></td>
              <td><input class="elems" type="number" id="Severity_Of_Occulsion" name="quantity" min="0.0" max="1.0" step="0.1" value="1.0"></td>
          </tr>
          </table>
        </div>
        <div id="div-slider" style ="width: 25%;height: 300px;display: inline-block;vertical-align: middle">
          <div id="div-slider" style ="width: 90%;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
            <b>U Wave Component</b>
            <br><br>
            <table>
              <tr></tr>
           <td> <input class="elems" type="checkbox" id="Anterior_Rotated_Heart" name="vehicle1" onchange="setEnable(this);" checked="true"></td>
            <td><label for="Anterior_Rotated_Heart" style="float: left;"> Anterior Rotated Heart</label></td>
          </tr>
          <tr>
            <td><input class="elems" type="checkbox" id="Prominent_U_Wave_Factors_Present"></td>
            <td> <label for="Prominent_U_Wave_Factors_Present" style="float: left;"> Prominent U Wave Factors Present </label></td>
            </tr>
            </table>
          </div>
          <div id="div-slider" style ="width: 90%;;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
            
            Presets

            <select class="elems" name="damage" id="preset" onchange="presets(this)">
              <option value="1">No Coronary Artery Occlusion</option>
              <option value="2">Proximal LMCA Occlusion</option>
              <option value="3">Proximal RCA Occlusion</option>
              <option value="4">Proximal LAD Occlusion</option>
              <option value="5">Proximal LCx Occlusion</option>
              <option value="6">Proximal RMA Occlusion</option>
              <option value="7">Proximal PDA Occlusion</option>
         
            </select>
                     
                     <br><br>
            <button id="Instructions" onclick="showTooltip();" style="float: right; width: 80%;">
              <i class="fa-sharp fa-solid fa-circle-info" style="color: forestgreen;"></i> Instructions
          </button><br><br>
   <!--<div class="tooltip" onc><span class="tooltiptextleft">Select either "Custom" or "Presets" value</span></div>-->
            <button class="elems" id="startAnim" onclick="startAnimation(22,this);" style="float: right; width: 80%;">
              <i class="fa-sharp fa-solid fa-play" style="color: forestgreen;"></i> Run Simulation
          </button>
          </div>

          </div>
          
  </div>
   </div>
</div>

<div>
  This work is based on the paper from the <a href="scholar.google.com">link</a>
  <br>
  Our Research Team:<b>
  Arvind Mistry, John Cannon, Kieran Stone, Daniel Cyrus, Faisal Rezwan
  </b>
  <br>Developers: Daniel Cyrus
  <br>
  Contact: <a href="mailto:far8@aber.ac.uk">Faisal Rezwan</a>
  
</div>
</body>
<script>
  var scene;
  const cubes = []
</script>
<script type="module">
const container = document.getElementById("canvas3D");
var sliderX = document.getElementById("myRangeX");
var sliderY = document.getElementById("myRangeY");



  import * as THREE from "https://unpkg.com/three@0.125.2/build/three.module.js";
  import { OBJLoader } from "https://unpkg.com/three@0.125.2/examples/jsm/loaders/OBJLoader.js";

  scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(
    75,
    650 / 420,
    0.1,
    1000
  );

  const renderer = new THREE.WebGLRenderer();
  renderer.setSize(650, 420);
  renderer.setClearColor("#ffffff");
  //document.body.appendChild(renderer.domElement);
  container.appendChild( renderer.domElement );

  
  const loader = new OBJLoader( );
  //var model;
  loader.load("model/heart_new2.obj", obj => {
      model = obj;
      
model.traverse(function (child) {
  if(child.name=="Heart_Sector"){
      const material = new THREE.MeshBasicMaterial( { color: 0xaaaaaa , opacity :0.4, transparent : true, side:THREE.DoubleSide} );
      child.material = material;

    }

    if(child.name=="LEFT_VENTRICLE"){
      const material = new THREE.MeshBasicMaterial( { color: 0x00bb00 , side:THREE.DoubleSide} );
      child.material = material;

    }
    if(child.name=="RIGHT_VENTRICLE"){
      const material = new THREE.MeshBasicMaterial( { color: 0x0000bb , side:THREE.DoubleSide} );
      child.material = material;

    }
    for(var index=1;index<=22;index++)
  {
    let nn = 'signalleft.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
    if(child.name==nn){
      const material = new THREE.MeshBasicMaterial( { color: 0xff0000 , opacity :0.5, transparent : false, side:THREE.DoubleSide} );
      child.material = material;
      child.visible = false;
    }
    let nn1 = 'signalright.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
    if(child.name==nn1){
      const material = new THREE.MeshBasicMaterial( { color: 0xff0000 , opacity :0.5, transparent : false, side:THREE.DoubleSide} );
      child.material = material;
      child.visible = false;
    }
  }
    
});

scene.add(model);
  });

const geometry1 = new THREE.BoxGeometry( .15, 5, .15 ); 
const material1 = new THREE.MeshBasicMaterial( {color: 0x0000ff} ); 
cubes.push(new THREE.Mesh( geometry1, material1 )); 
cubes[0].name = "v5"
cubes[0].rotation.z = 10
scene.add( cubes[0] );
/////////////////////
const geometry3 = new THREE.BoxGeometry( .15, .15, 5 ); 
const material3 = new THREE.MeshBasicMaterial( {color: 0xff0000} ); 
cubes.push(new THREE.Mesh( geometry3, material3 )); 
cubes[1].name = "sv1"
scene.add( cubes[1] );
const geometry2 = new THREE.BoxGeometry( 5, .15, .15 ); 
const material2 = new THREE.MeshBasicMaterial( {color: 0x00ff00} ); 
cubes.push(new THREE.Mesh( geometry2, material2 )); 
cubes[2].rotation.z = 10
cubes[2].name = "III"
scene.add( cubes[2] );
/////////////////////

  camera.position.set(0, 0, 5);
  camera.lookAt(-1, 1, 0);

  const animate = function() {
    requestAnimationFrame(animate);
    if (model) {
      model.rotation.x = degX;
      model.rotation.y = degY;

      cubes[0].rotation.x=degX;
      cubes[0].rotation.y=degY;

      cubes[1].rotation.x=degX;
      cubes[1].rotation.y=degY;

      cubes[2].rotation.x=degX;
      cubes[2].rotation.y=degY;

     
    }
    renderer.render(scene, camera);
  };

  animate();


</script>

<script>
  var model;
degY = 0.0;
degX = 0.0;
function resetSliderY(elem){
  degY = (elem.value* Math.PI)/180;
}
function resetSliderX(elem){
  degX = (elem.value* Math.PI)/180;
}
/////////////////////////////////////////////////

//////////////////////////////////////////////CALCULATION///////////
var V5_Current_Result =   [0,	0,	0.0625,	0.25,	0.4375,	0.4375,	0.25,	0.0625,	0,	0,	0,	0,	0,	0,	0,	0,	0, 0.0625,	0.125,	0,	0,	0];
var sV1_Current_Result =	[0,	0,	-0.125,	-0.5,	-0.875,	-0.875,	-0.5,	-0.125,	0,	0,	0,	0,	0, 0,	0,	0,	0, -0.125,	-0.25,	0,	0,	0];
var III_Current_Result =	[0,	0,	0.0625,	0.25,0.4375,	0.5,	0.5,	0.5,	0.4375,	0.25,	0.0625,	0,	0,	0,	0,	0,	0, 0.0625,	0.125,	0,	0,	0];


///////////graph
const newLegendClickHandler = function (e, legendItem, legend) {
    const index = legendItem.datasetIndex;
    const type = legend.chart.config.type;
alert("hello");
    if (index > 1) {
        // Do the original logic
        if (type === 'pie' || type === 'doughnut') {
            pieDoughnutLegendClickHandler(e, legendItem, legend)
        } else {
            defaultLegendClickHandler(e, legendItem, legend);
        }

    } else {
        let ci = legend.chart;
        [
            ci.getDatasetMeta(0),
            ci.getDatasetMeta(1)
        ].forEach(function(meta) {
            meta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;
        });
        ci.update();
    }
};
///////////////
  var xValues = [25,	50,	75,	100,	125,	150,	175,	200,	225,	250,	275,	300,	325,	350,	375,	400,	425,	450,	475,	500,	525,	550];
    var chart =new Chart("eggChart", {
  type: "line",
  plugins: [{
    afterDraw: chart1 => {
      let ctx = chart1.chart.ctx;
      let xAxis = chart1.scales['x-axis-0'];
      let yAxis = chart1.scales['y-axis-0'];
      let maxValue = Math.max(...chart1.data.datasets[0].data);
      let minValue = Math.min(...chart1.data.datasets[0].data);
      ctx.save();
      ctx.textAlign = 'center';
      ctx.font = '15px Arial';      
      ctx.fillStyle = 'black';
      ctx.textAlign = 'left';
      ctx.fillText('T wave', xAxis.left + 75, yAxis.top + 45);
      ctx.fillText('U wave', xAxis.right - 85, yAxis.top + 45);
      ctx.restore();
    }
  }],
  data: {
    labels: xValues,
    datasets: [
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead V5",
      data: V5_Current_Result,
      borderColor: "#0000ff",
      fill: false,
     // borderDash: [5,5],
      hidden:false
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead sV1",
      data: sV1_Current_Result,
      borderColor: "red",
      fill: false,
     // borderDash: [5,5],
      hidden:false
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead III",
      data: III_Current_Result,
      borderColor: "green",
      fill: false,
    //  borderDash: [5,5],
      hidden:false
    }
    ,
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"",
      data: V5_Current_Result,
      borderColor: "#0000ff33",
      fill: false,
     // borderDash: [5,5],
      hidden:false
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"",
      data: sV1_Current_Result,
      borderColor: "#ff000033",
      fill: false,
     // borderDash: [5,5],
      hidden:false
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"",
      data: III_Current_Result,
      borderColor: "#00ff0055",
      fill: false,
    //  borderDash: [5,5],
      hidden:false,
      hiddenLegend: true,
    }
  ]
    },
  
  options: {responsive: false,
   
    legend: {position: 'bottom' ,display: true,labels: {
      filter: function (legendItem, chartData) {
                        return (chartData.datasets[legendItem.datasetIndex].label)
                    },
      usePointStyle: true}
  },
    scales: {
      xAxes: [{ticks: {min: 0, max:360},scaleLabel:{display: true,labelString: 'mSec'}}],
      yAxes: [{ticks: {min: -1.5, max:+1.5},scaleLabel:{display: true,labelString: 'mV'}}],
    }

}
});

function presets(elem){
  val = elem.value;
  if(val==1){
    document.getElementById("lad").value =21;
    document.getElementById("lcx").value=22;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=21;
    document.getElementById("pda").value=21;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
 else if(val==2){
    document.getElementById("lad").value =1;
    document.getElementById("lcx").value=9;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=21;
    document.getElementById("pda").value=21;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
  else if(val==3){
    document.getElementById("lad").value =21;
    document.getElementById("lcx").value=22;
    document.getElementById("rca").value=9;
    document.getElementById("rma").value=12;
    document.getElementById("pda").value=1;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
  else if(val==4){
    document.getElementById("lad").value =1;
    document.getElementById("lcx").value=22;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=21;
    document.getElementById("pda").value=21;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
  else if(val==5){
    document.getElementById("lad").value =21;
    document.getElementById("lcx").value=9;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=21;
    document.getElementById("pda").value=21;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
  else if(val==6){
    document.getElementById("lad").value =21;
    document.getElementById("lcx").value=22;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=1;
    document.getElementById("pda").value=21;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }
  else if(val==7){
    document.getElementById("lad").value =21;
    document.getElementById("lcx").value=22;
    document.getElementById("rca").value=21;
    document.getElementById("rma").value=21;
    document.getElementById("pda").value=1;
    document.getElementById("Severity_Of_Occulsion").value=0.5;
  }

}

// var III_current_result = [];
// var V5_current_result = [];
// var sv1_current_result = [];
function UpdateData(){
  III_current_result = [];
  V5_current_result = [];
  sv1_current_result = [];

LAD_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var ladVal = parseInt(document.getElementById("lad").value)
for(var i=0;i<ladVal-1;i++)LAD_range[i]=0;

LCX_range = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
var lcxVal = parseInt(document.getElementById("lcx").value)
for(var i=8;i<lcxVal-1;i++)LCX_range[i]=0;

RCA_range = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
var rcaVal = parseInt(document.getElementById("rca").value)
for(var i=8;i<rcaVal-1;i++)RCA_range[i]=0;

RMA_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var rmaVal = parseInt(document.getElementById("rma").value)
for(var i=11;i<rmaVal-1;i++)RMA_range[i]=0;

PDA_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var pdaVal = parseInt(document.getElementById("pda").value)
for(var i=0;i<pdaVal-1;i++)PDA_range[i]=0;
/////////FRONT PAGE
var U_Wave_present= 	0;
var Prominent_U_Wave_present=	0;
var Prominent_U_Wave = 0;
var U_wave = 0;

var Left_Ventricular_Hypertrophy =	document.getElementById("Left_Ventricular").value;
var Basal_Septal_Hypertrophy=	document.getElementById("Basal_Septal").value;
var Apical_Septal_Hypertrophy=	document.getElementById("Apical_Septal").value;;
var Right_Ventricular_Hypertrophy=document.getElementById("Right_Ventricular").value;

if(LCX_range[20]==1)Prominent_U_Wave=1;
if(LCX_range[19]==1)U_wave=1;
var Severity_of_Damage =	document.getElementById("Severity_Of_Occulsion").value;

  if(document.getElementById("Anterior_Rotated_Heart").checked)U_Wave_present= 	1;
  //else U_Wave_present= 	0;
  if(document.getElementById("Prominent_U_Wave_Factors_Present").checked)Prominent_U_Wave_present= 	1;
  //else Prominent_U_Wave_present= 	0;


///////////Lead v5 page
var Posterior_Signal_Strength = 0.5;
var Septal_Signal_Strenght	=		0.5;
var Anterior_Signal_Strength	=	0.5;

const Posterior_Wall_signal = [0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0]; 
const Posterior_Wall_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Posterior_Wall_signal[i]));
const U_wave_extended_Posterior_Wall =                 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const U_wave_with_Hypertrophy = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall[i]));
const Prominent_U_wave_extended_Posterior_Wall_further=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const Prominent_U_wave_with_hypertrophy=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further[i]));
const Basal_Septum_signal = [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_Septum_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Basal_Septum_signal_with_hypertrophy.push((Basal_Septal_Hypertrophy*Septal_Signal_Strenght*Basal_Septum_signal[i]));
const Apical_Septum_signal = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_Septum_signal_with_hypertrophy =[];for(var i =0;i<22;i++)Apical_Septum_signal_with_hypertrophy.push((Apical_Septal_Hypertrophy*Septal_Signal_Strenght*Apical_Septum_signal[i]));
const Anterior_Wall_signal = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy.push((Anterior_Signal_Strength*Right_Ventricular_Hypertrophy*Anterior_Wall_signal[i]));
const Net_Towards_signal=[];for(var i =0;i<22;i++)Net_Towards_signal.push((Posterior_Wall_signal_with_hypertrophy[i]+U_wave_with_Hypertrophy[i]+Prominent_U_wave_with_hypertrophy[i]+Basal_Septum_signal_with_hypertrophy[i]+Apical_Septum_signal_with_hypertrophy[i]+Anterior_Wall_signal_with_hypertrophy[i]));

const Left_Anterior_Descending_Artery_septal_damage_value = [1,1,1,1,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_septal_damage = LAD_range;
const LAD_septal_damage_with_severity = [];for(var i =0;i<22;i++)LAD_septal_damage_with_severity.push((Septal_Signal_Strenght*Severity_of_Damage*Left_Anterior_Descending_Artery_septal_damage_value[i]*Left_Anterior_Descending_Artery_septal_damage[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value = [0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage =LAD_range;
const LAD_anterior_damage_with_severity = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity.push((Anterior_Signal_Strength*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value[i]*Left_Anterior_Descending_Artery_anterior_damage[i]));
const Left_Circumflex_Artery_posterior_damage_value = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Left_Circumflex_Artery_from_posterior_damage = LCX_range;
const LCx_posterior_damage_with_severity = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage[i]));
//LCx_U_wave_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0]
const LCx_U_wave_damage_value =   [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present*U_wave,0];
const LCx_U_wave_damage_with_severity = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*LCx_U_wave_damage_value[i]));
const LCx_Prominent_U_Wave_1 =    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const LCx_U_wave_damage_value_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present * Prominent_U_Wave];
const LCx_U_wave_damage_with_severity_1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*LCx_U_wave_damage_value_1[i]));
const Right_Coronary_Artery_left_anterior_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_left_anterior_damage = RCA_range;
const RCA_left_anterior_damage_with_severity = [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity.push((Anterior_Signal_Strength*Severity_of_Damage*Right_Coronary_Artery_left_anterior_damage_value[i]*Right_Coronary_Artery_left_anterior_damage[i]));
const Posterior_Descending_Artery_posterior_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0];
const Posterior_Descending_Artery_posterior_damage = PDA_range;
const PDA_posterior_damage_with_severity =[];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value[i]*Posterior_Descending_Artery_posterior_damage[i]));
const Net_Towards_damage = [];for(var i =0;i<22;i++)Net_Towards_damage.push((LAD_septal_damage_with_severity[i]+LAD_anterior_damage_with_severity[i]+LCx_posterior_damage_with_severity[i]+LCx_U_wave_damage_with_severity[i]+LCx_U_wave_damage_with_severity_1[i]+RCA_left_anterior_damage_with_severity[i]+PDA_posterior_damage_with_severity[i]));

const Net_Result_Towards_side = [];for(var i =0;i<22;i++)Net_Result_Towards_side.push(Net_Towards_signal[i]-Net_Towards_damage[i]);

//////////////////////////////////
const Posterior_Wall_signal_1 =  [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0]
const Posterior_Wall_signal_with_hypertrophy_1= [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_1[i]));
const U_wave_extended_Posterior_Wall_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const U_wave_with_Hypertrophy_1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Prominent_U_wave_with_hypertrophy_1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_1[i]));
const Basal_septum_signal_1 = [1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_septum_signal_with_hypertrophy_1 = [];for(var i =0;i<22;i++)Basal_septum_signal_with_hypertrophy_1.push((Septal_Signal_Strenght*Basal_Septal_Hypertrophy*Basal_septum_signal_1[i]));
const Anterior_Wall_signal_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy_1 =[];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_1.push((Anterior_Signal_Strength*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_1[i]));
const Net_Away_From_signal_1 = [];for(var i=0;i<22;i++)Net_Away_From_signal_1.push((Posterior_Wall_signal_with_hypertrophy_1[i]+U_wave_with_Hypertrophy_1[i]+Prominent_U_wave_with_hypertrophy_1[i]+Basal_septum_signal_with_hypertrophy_1[i]+Anterior_Wall_signal_with_hypertrophy_1[i]));

const Right_Coronary_Artery_right_anterior_damage_value_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Right_Coronary_Artery_right_anterior_damage_1 = RCA_range;

const RCA_right_anterior_damage_with_severity_1 = [];for(var i =0;i<22;i++)RCA_right_anterior_damage_with_severity_1.push((Anterior_Signal_Strength*Severity_of_Damage*Right_Coronary_Artery_right_anterior_damage_1[i]));
const Right_Marginal_Artery_damage_value_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Marginal_Artery_damage_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const RMA_damage_with_severity_1 = [];for(var i =0;i<22;i++)RMA_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*Right_Marginal_Artery_damage_value_1[i]*Right_Marginal_Artery_damage_1[i]));
const Posterior_Descending_Artery_posterior_damage_value_1 =[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Posterior_Descending_Artery_posterior_damage_1 = PDA_range;
const PDA_posterior_damage_with_severity_1 =  [];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1[i]*Posterior_Descending_Artery_posterior_damage_1[i]));
const Posterior_Descending_Artery_septal_damage_value_1 = [1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_septal_damage_1 = PDA_range;

const PDA_septal_damage_with_severity_1 =  [];for(var i =0;i<22;i++)PDA_septal_damage_with_severity_1.push((Septal_Signal_Strenght*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1[i]*Posterior_Descending_Artery_septal_damage_1[i]));
const Net_Away_From_damage_1 = [];for(var i =0;i<22;i++)Net_Away_From_damage_1.push((RCA_right_anterior_damage_with_severity_1[i]+RMA_damage_with_severity_1[i]+PDA_posterior_damage_with_severity_1[i]+PDA_septal_damage_with_severity_1[i]));

const Net_Result_Away_From_side = [];for(var i =0;i<22;i++)Net_Result_Away_From_side.push(Net_Away_From_signal_1[i]-Net_Away_From_damage_1[i]);

///////////////////////////////
const Balance_raw_data = [];for(var i =0;i<22;i++)Balance_raw_data.push(Net_Result_Towards_side[i]-Net_Result_Away_From_side[i]);
const Balance_averagesx1 = [0];for(var i =1;i<22;i++)Balance_averagesx1.push((Balance_raw_data[i-1]+Balance_raw_data[i])/2);
const Balance_Averagesx2 = [0,0];for(var i =2;i<22;i++)Balance_Averagesx2.push((Balance_averagesx1[i-1]+Balance_averagesx1[i])/2);
const Balance_Averagesx3 =[0,0,0];for(var i =3;i<22;i++)Balance_Averagesx3.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i])/2);Balance_Averagesx3.push(0);Balance_Averagesx3.push(0);Balance_Averagesx3.push(0);
const Three_Averaged = [(Balance_raw_data[0]+Balance_raw_data[1])/2];for(var i =1;i<21;i++)Three_Averaged.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i]+Balance_Averagesx2[i+1])/3);Three_Averaged.push((Balance_Averagesx2[20]+Balance_Averagesx2[21])/2);Three_Averaged.push(0);Three_Averaged.push(0);Three_Averaged.push(0);
////////////////////////////////
for(var i =3;i<25;i++)V5_current_result.push(Balance_Averagesx3[i]);

/////////////////////////Lead SV1 //////////
//***************************************************************
var Posterior_Signal_Strength_sv1 = 1;
var Septal_Signal_Strenght_sv1	=		1;
var Anterior_Signal_Strength_sv1	=	1;


const Posterior_Wall_signal_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0]; 
const Posterior_Wall_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_sv1[i]));
const U_wave_extended_Posterior_Wall_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const U_wave_with_Hypertrophy_sv1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_sv1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_sv1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Prominent_U_wave_with_hypertrophy_sv1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_sv1[i]));
const Basal_Septum_signal_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_Septum_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Basal_Septum_signal_with_hypertrophy_sv1.push((Basal_Septal_Hypertrophy*Septal_Signal_Strenght*Basal_Septum_signal_sv1[i]));
const Apical_Septum_signal_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_Septum_signal_with_hypertrophy_sv1 =[];for(var i =0;i<22;i++)Apical_Septum_signal_with_hypertrophy_sv1.push((Apical_Septal_Hypertrophy*Septal_Signal_Strenght*Apical_Septum_signal_sv1[i]));
const Anterior_Wall_signal_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Anterior_Wall_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_sv1.push((Anterior_Signal_Strength_sv1*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_sv1[i]));
const Net_Towards_signal_sv1=[];for(var i =0;i<22;i++)Net_Towards_signal_sv1.push((Posterior_Wall_signal_with_hypertrophy_sv1[i]+U_wave_with_Hypertrophy_sv1[i]+Prominent_U_wave_with_hypertrophy_sv1[i]+Basal_Septum_signal_with_hypertrophy_sv1[i]+Apical_Septum_signal_with_hypertrophy_sv1[i]+Anterior_Wall_signal_with_hypertrophy_sv1[i]));

const Left_Anterior_Descending_Artery_septal_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_septal_damage_sv1 = LAD_range;
const LAD_septal_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LAD_septal_damage_with_severity_sv1.push((Septal_Signal_Strenght_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_septal_damage_value_sv1[i]*Left_Anterior_Descending_Artery_septal_damage_sv1[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_sv1 =LAD_range;
const LAD_anterior_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value_sv1[i]*Left_Anterior_Descending_Artery_anterior_damage_sv1[i]));
const Left_Circumflex_Artery_posterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Circumflex_Artery_from_posterior_damage_sv1 = LCX_range;
const LCx_posterior_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage_sv1[i]));
const Right_Coronary_Artery_left_anterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,2,2,1,0];
const Right_Coronary_Artery_left_anterior_damage_sv1 = RCA_range;
const RCA_left_anterior_damage_with_severity_sv1= [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Right_Coronary_Artery_left_anterior_damage_value_sv1[i]*Right_Coronary_Artery_left_anterior_damage_sv1[i]));
const Posterior_Descending_Artery_posterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_posterior_damage_sv1 = PDA_range;
const PDA_posterior_damage_with_severity_sv1 =[];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_sv1.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_sv1[i]*Posterior_Descending_Artery_posterior_damage_sv1[i]));
const Net_Towards_damage_sv1 = [];for(var i =0;i<22;i++)Net_Towards_damage_sv1.push((LAD_septal_damage_with_severity_sv1[i]+LAD_anterior_damage_with_severity_sv1[i]+LCx_posterior_damage_with_severity_sv1[i]+RCA_left_anterior_damage_with_severity_sv1[i]+PDA_posterior_damage_with_severity_sv1[i]));

const Net_Result_Towards_side_sv1 = [];for(var i =0;i<22;i++)Net_Result_Towards_side_sv1.push(Net_Towards_signal_sv1[i]-Net_Towards_damage_sv1[i]);

//////////////////////////////////
const Posterior_Wall_signal_1_sv1 =  [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0]
const Posterior_Wall_signal_with_hypertrophy_1_sv1= [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_1_sv1[i]));
const U_wave_extended_Posterior_Wall_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const U_wave_with_Hypertrophy_1_sv1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_1_sv1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const Prominent_U_wave_with_hypertrophy_1_sv1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_1_sv1[i]));
const Apical_septum_signal_1_sv1 = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_septum_signal_with_hypertrophy_1_sv1 = [];for(var i =0;i<22;i++)Apical_septum_signal_with_hypertrophy_1_sv1.push((Septal_Signal_Strenght_sv1*Basal_Septal_Hypertrophy*Apical_septum_signal_1_sv1[i]));
const Anterior_Wall_signal_1_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy_1_sv1 =[];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_1_sv1.push((Anterior_Signal_Strength_sv1*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_1_sv1[i]));
const Net_Away_From_signal_1_sv1 = [];for(var i=0;i<22;i++)Net_Away_From_signal_1_sv1.push((Posterior_Wall_signal_with_hypertrophy_1_sv1[i]+U_wave_with_Hypertrophy_1_sv1[i]+Prominent_U_wave_with_hypertrophy_1_sv1[i]+Apical_septum_signal_with_hypertrophy_1_sv1[i]+Anterior_Wall_signal_with_hypertrophy_1_sv1[i]));

const Right_Coronary_Artery_right_anterior_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_right_anterior_damage_1_sv1 = RCA_range;
const RCA_right_anterior_damage_with_severity_1_sv1 = [];for(var i =0;i<22;i++)RCA_right_anterior_damage_with_severity_1_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Right_Coronary_Artery_right_anterior_damage_1_sv1[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value_sv1_1 = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_sv1_1 =LAD_range;
const LAD_anterior_damage_with_severity_sv1_1 = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_sv1_1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value_sv1_1[i]*Left_Anterior_Descending_Artery_anterior_damage_sv1_1[i]));
//LCx_U_wave_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0]
//const Left_Circumflex_Artery_posterior_damage_value_sv1_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Left_Circumflex_Artery_from_posterior_damage_sv1_1 = LCX_range;
const LCx_posterior_damage_with_severity_sv1_1 = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity_sv1_1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage_sv1_1[i]));
const LCx_U_wave_damage_value_sv1 =[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present*U_wave,0];
const LCx_U_wave_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*LCx_U_wave_damage_value_sv1[i]));
//const LCx_Prominent_U_Wave_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const LCx_U_wave_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present * Prominent_U_Wave];
const LCx_U_wave_damage_with_severity_1_sv1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_1_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*LCx_U_wave_damage_value_1_sv1[i]));
const Posterior_Descending_Artery_posterior_damage_value_1_sv1 =[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Posterior_Descending_Artery_posterior_damage_1_sv1 = PDA_range;
const PDA_posterior_damage_with_severity_1_sv1 =  [];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_1_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1_sv1[i]*Posterior_Descending_Artery_posterior_damage_1_sv1[i]));
const Posterior_Descending_Artery_septal_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_septal_damage_1_sv1 = PDA_range;
const PDA_septal_damage_with_severity_1_sv1 =  [];for(var i =0;i<22;i++)PDA_septal_damage_with_severity_1_sv1.push((Septal_Signal_Strenght_sv1*Severity_of_Damage*Posterior_Descending_Artery_septal_damage_value_1_sv1[i]*Posterior_Descending_Artery_septal_damage_1_sv1[i]));
const Net_Away_From_damage_1_sv1 = [];for(var i =0;i<22;i++)Net_Away_From_damage_1_sv1.push((RCA_right_anterior_damage_with_severity_1_sv1[i]+LAD_anterior_damage_with_severity_sv1_1[i]+LCx_posterior_damage_with_severity_sv1_1[i]+LCx_U_wave_damage_with_severity_sv1[i]+LCx_U_wave_damage_with_severity_1_sv1[i]+PDA_posterior_damage_with_severity_1_sv1[i]+PDA_septal_damage_with_severity_1_sv1[i]));

const Net_Result_Away_From_side_sv1 = [];for(var i =0;i<22;i++)Net_Result_Away_From_side_sv1.push(Net_Away_From_signal_1_sv1[i]-Net_Away_From_damage_1_sv1[i]);
///////////////////////////////
const Balance_raw_data_sv1 = [];for(var i =0;i<22;i++)Balance_raw_data_sv1.push(Net_Result_Towards_side_sv1[i]-Net_Result_Away_From_side_sv1[i]);
const Balance_averagesx1_sv1 = [0];for(var i =1;i<22;i++)Balance_averagesx1_sv1.push((Balance_raw_data_sv1[i-1]+Balance_raw_data_sv1[i])/2);
const Balance_Averagesx2_sv1 = [0,0];for(var i =2;i<22;i++)Balance_Averagesx2_sv1.push((Balance_averagesx1_sv1[i-1]+Balance_averagesx1_sv1[i])/2);
const Balance_Averagesx3_sv1 =[0,0,0];for(var i =3;i<22;i++)Balance_Averagesx3_sv1.push((Balance_Averagesx2_sv1[i-1]+Balance_Averagesx2_sv1[i])/2);Balance_Averagesx3_sv1.push(0);Balance_Averagesx3_sv1.push(0);Balance_Averagesx3_sv1.push(0);
//const Three_Averaged_sv1 = [(Balance_raw_data[0]+Balance_raw_data[1])/2];for(var i =1;i<21;i++)Three_Averaged_sv1.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i]+Balance_Averagesx2[i+1])/3);Three_Averaged.push((Balance_Averagesx2[20]+Balance_Averagesx2[21])/2);Three_Averaged_sv1.push(0);Three_Averaged_sv1.push(0);Three_Averaged_sv1.push(0);
////////////////////////////////
for(var i =3;i<25;i++)sv1_current_result.push(Balance_Averagesx3_sv1[i]);

//////////////////////////////Lead III /////////////////////////
//**************************************************************
var Towards_Signal_Strength_III = 0.5;
var Septal_Signal_Strenght_III = 0.5;
var Away_from_Signal_Strength_III = 0.5;

const Lateral_signal_III = [0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,1,0,0];  
const Laterall_signal_with_hypertrophy_RV_LV_III = [];for(var i =0;i<22;i++)Laterall_signal_with_hypertrophy_RV_LV_III.push(((Lateral_signal_III[i]*Right_Ventricular_Hypertrophy*Towards_Signal_Strength_III)+(Lateral_signal_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III))/2);
const U_wave_extended_Lateral_Wall_III = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const U_wave_with_Hypertrophy_III = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_III.push(U_wave_extended_Lateral_Wall_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III);
const Prominent_U_wave_extended_Lateral_Wall_further_III = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const Prominent_U_wave_with_hypertrophy_III = [];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_III.push(Prominent_U_wave_extended_Lateral_Wall_further_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III);
const Bottom_Basal_Septum_signal_III = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0];
const Bottom_Basal_Septum_signal_with_hypertrophy_III = [];for(var i =0;i<22;i++)Bottom_Basal_Septum_signal_with_hypertrophy_III.push(Bottom_Basal_Septum_signal_III[i]*Basal_Septal_Hypertrophy*Septal_Signal_Strenght_III);
const Lateral_Apical_Septum_signal_III = [0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0];
const Lateral_Apical_Septum_signal_with_hypertrophy_III = [];for(var i =0;i<22;i++)Lateral_Apical_Septum_signal_with_hypertrophy_III.push(Lateral_Apical_Septum_signal_III[i]*Septal_Signal_Strenght_III*Apical_Septal_Hypertrophy);
const Medial_signal_III = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,0,0,0];
const Medial_signal_with_hypertrophy_RV_LV_III = [];for(var i =0;i<22;i++)Medial_signal_with_hypertrophy_RV_LV_III.push(((Medial_signal_III[i]*Right_Ventricular_Hypertrophy*Towards_Signal_Strength_III)+(Medial_signal_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III))/2);
const Net_Towards_signal_III = [];for(var i =0;i<22;i++)Net_Towards_signal_III.push(Laterall_signal_with_hypertrophy_RV_LV_III[i]+U_wave_with_Hypertrophy_III[i]+Prominent_U_wave_with_hypertrophy_III[i]+Bottom_Basal_Septum_signal_with_hypertrophy_III[i]+Lateral_Apical_Septum_signal_with_hypertrophy_III[i]+Medial_signal_with_hypertrophy_RV_LV_III[i]);

const Left_Anterior_Descending_Artery_central_septal_damage_value_III =[0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0,0,0,0,0];
const Left_Anterior_Descending_Artery_central_septal_damage_III =LAD_range;
const LAD_central_septal_damage_with_severity_III = [];for(var i =0;i<22;i++)LAD_central_septal_damage_with_severity_III.push(Left_Anterior_Descending_Artery_central_septal_damage_value_III[i]*Left_Anterior_Descending_Artery_central_septal_damage_III[i]*Septal_Signal_Strenght_III*Severity_of_Damage);
const Left_Anterior_Descending_Artery_anterior_damage_value_III=[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_III = LAD_range;
const LAD_anterior_damage_with_severity_III= [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_III.push(Left_Anterior_Descending_Artery_anterior_damage_value_III[i]*Left_Anterior_Descending_Artery_anterior_damage_III[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const LCx_U_wave_damage_value_bottom_III = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const LCx_U_wave_damage_value_III =        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present*U_wave,0];
const LCx_U_wave_damage_with_severity_III = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_III.push(LCx_U_wave_damage_value_bottom_III[i]*LCx_U_wave_damage_value_III[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const LCx_Prominent_U_Wave_bottom_III = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const LCx_U_wave_damage_value_III_2 =   [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present * Prominent_U_Wave];
const LCx_U_wave_damage_with_severity_III_2=[];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_III_2.push(LCx_Prominent_U_Wave_bottom_III[i]*LCx_U_wave_damage_value_III_2[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Right_Coronary_Artery_left_anterior_damage_value_III = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_left_anterior_damage_III = RCA_range;
const RCA_left_anterior_damage_with_severity_III = [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity_III.push(Right_Coronary_Artery_left_anterior_damage_value_III[i]*Right_Coronary_Artery_left_anterior_damage_III[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Right_Marginal_Artery_damage_value_III = [0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,3,4,1,0,0];
const Right_Marginal_Artery_damage_III = RMA_range;
const RMA_damage_with_severity_III = [];for(var i =0;i<22;i++)RMA_damage_with_severity_III.push(Right_Marginal_Artery_damage_value_III[i]*Right_Marginal_Artery_damage_III[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Posterior_Descending_Artery_bottom_damage_value_III = [0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_bottom_damage_III = PDA_range;
const PDA_bottom_damage_with_severity_III = [];for(var i =0;i<22;i++)PDA_bottom_damage_with_severity_III.push(Posterior_Descending_Artery_bottom_damage_value_III[i]*Posterior_Descending_Artery_bottom_damage_III[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Posterior_Descending_Artery_central_septal_damage_value_III=[0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0,0,0,0,0];
const Posterior_Descending_Artery_central_septal_damage_III = PDA_range;
const Central_PDA_septal_damage_with_severity_III=[];for(var i =0;i<22;i++)Central_PDA_septal_damage_with_severity_III.push(Posterior_Descending_Artery_central_septal_damage_value_III[i]*Posterior_Descending_Artery_central_septal_damage_III[i]*Septal_Signal_Strenght_III*Severity_of_Damage);
const Net_Towards_damage_III = [];for(var i =0;i<22;i++)Net_Towards_damage_III.push(LAD_central_septal_damage_with_severity_III[i]+LAD_anterior_damage_with_severity_III[i]+LCx_U_wave_damage_with_severity_III[i]+LCx_U_wave_damage_with_severity_III_2[i]+RCA_left_anterior_damage_with_severity_III[i]+RMA_damage_with_severity_III[i]+PDA_bottom_damage_with_severity_III[i]+Central_PDA_septal_damage_with_severity_III[i]);
 
const Net_Result_Towards_side_III=[];for(var i =0;i<22;i++)Net_Result_Towards_side_III.push(Net_Towards_signal_III[i]-Net_Towards_damage_III[i]);
 
const Lateral_signal_III_1 = [0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,1,0,0];  
const Laterall_signal_with_hypertrophy_RV_LV_III_1 = [];for(var i =0;i<22;i++)Laterall_signal_with_hypertrophy_RV_LV_III_1.push(((Lateral_signal_III_1[i]*Right_Ventricular_Hypertrophy*Towards_Signal_Strength_III)+(Lateral_signal_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III))/2);
const U_wave_extended_Lateral_Wall_III_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const U_wave_with_Hypertrophy_III_1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_III_1.push(U_wave_extended_Lateral_Wall_III_1[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III);
const Prominent_U_wave_extended_Lateral_Wall_further_III_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Prominent_U_wave_with_hypertrophy_III_1 = [];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_III_1.push(Prominent_U_wave_extended_Lateral_Wall_further_III_1[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III);
const Top_Basal_Septum_signal_III_1 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0];
const Top_Basal_Septum_signal_with_hypertrophy_III_1 = [];for(var i =0;i<22;i++)Top_Basal_Septum_signal_with_hypertrophy_III_1.push(Top_Basal_Septum_signal_III_1[i]*Basal_Septal_Hypertrophy*Septal_Signal_Strenght_III);
const Medial_signal_III_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,0,0,0];
const Medial_signal_with_hypertrophy_RV_LV_III_1 = [];for(var i =0;i<22;i++)Medial_signal_with_hypertrophy_RV_LV_III_1.push(((Medial_signal_III_1[i]*Right_Ventricular_Hypertrophy*Towards_Signal_Strength_III)+(Medial_signal_III[i]*Left_Ventricular_Hypertrophy*Towards_Signal_Strength_III))/2);
const Net_Towards_signal_III_1 = [];for(var i =0;i<22;i++)Net_Towards_signal_III_1.push(Laterall_signal_with_hypertrophy_RV_LV_III_1[i]+U_wave_with_Hypertrophy_III_1[i]+Prominent_U_wave_with_hypertrophy_III_1[i]+Top_Basal_Septum_signal_with_hypertrophy_III_1[i]+Medial_signal_with_hypertrophy_RV_LV_III_1[i]);
 
const Left_Coronary_Main_Artery_damage_III_1 =  [0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0,0,0,0,0];
const Left_Anterior_Descending_Artery_central_septal_damage_value_III_1 = LAD_range;
const Left_Anterior_Descending_Artery_central_septal_damage_III_1 = [];for(var i =0;i<22;i++)Left_Anterior_Descending_Artery_central_septal_damage_III_1.push(Left_Coronary_Main_Artery_damage_III_1[i]*Left_Anterior_Descending_Artery_central_septal_damage_value_III_1[i]*Septal_Signal_Strenght_III*Severity_of_Damage);
const Left_Anterior_Descending_Artery_anterior_damage_value_III_1=[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,1,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_III_1 = LAD_range;
const LAD_anterior_damage_with_severity_III_1= [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_III_1.push(Left_Anterior_Descending_Artery_anterior_damage_value_III_1[i]*Left_Anterior_Descending_Artery_anterior_damage_III_1[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Right_Coronary_Artery_left_anterior_damage_value_III_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_left_anterior_damage_III_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const RCA_left_anterior_damage_with_severity_III_1 = [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity_III_1.push(Right_Coronary_Artery_left_anterior_damage_value_III_1[i]*Right_Coronary_Artery_left_anterior_damage_value_III_1[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Right_Marginal_Artery_damage_value_III_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Marginal_Artery_damage_III_1 = RMA_range;
const RMA_damage_with_severity_III_1 = [];for(var i =0;i<22;i++)RMA_damage_with_severity_III_1.push(Right_Marginal_Artery_damage_value_III_1[i]*Right_Marginal_Artery_damage_III_1[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Posterior_Descending_Artery_top_damage_value_III_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,0,0,0];
const Posterior_Descending_Artery_top_damage_III_1 = PDA_range;
const PDA_bottom_damage_with_severity_III_1 = [];for(var i =0;i<22;i++)PDA_bottom_damage_with_severity_III_1.push(Posterior_Descending_Artery_top_damage_III_1[i]*Posterior_Descending_Artery_top_damage_value_III_1[i]*Towards_Signal_Strength_III*Severity_of_Damage);
const Posterior_Descending_Artery_central_septal_damage_value_III_1=[0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0,0,0,0,0];
const Posterior_Descending_Artery_central_septal_damage_III_1 = PDA_range;
const Central_PDA_septal_damage_with_severity_III_1=[];for(var i =0;i<22;i++)Central_PDA_septal_damage_with_severity_III_1.push(Posterior_Descending_Artery_central_septal_damage_value_III_1[i]*Posterior_Descending_Artery_central_septal_damage_III_1[i]*Septal_Signal_Strenght_III*Severity_of_Damage);
const Net_Away_Fom_damage_III=[];for(var i =0;i<22;i++)Net_Away_Fom_damage_III.push(Left_Anterior_Descending_Artery_central_septal_damage_III_1[i]+LAD_anterior_damage_with_severity_III_1[i]+RCA_left_anterior_damage_with_severity_III_1[i]+RMA_damage_with_severity_III_1[i]+PDA_bottom_damage_with_severity_III_1[i]+Central_PDA_septal_damage_with_severity_III_1[i]);
 
const Net_Result_Away_From_side_III=[];for(var i =0;i<22;i++)Net_Result_Away_From_side_III.push(Net_Towards_signal_III_1[i]-Net_Away_Fom_damage_III[i]);
///////////////////////////////
const Balance_raw_data_III = [];for(var i =0;i<22;i++)Balance_raw_data_III.push(Net_Result_Towards_side_III[i]-Net_Result_Away_From_side_III[i]);
const Balance_averagesx1_III = [0];for(var i =1;i<22;i++)Balance_averagesx1_III.push((Balance_raw_data_III[i-1]+Balance_raw_data_III[i])/2);
const Balance_Averagesx2_III = [0,0];for(var i =2;i<22;i++)Balance_Averagesx2_III.push((Balance_averagesx1_III[i-1]+Balance_averagesx1_III[i])/2);
const Balance_Averagesx3_III =[0,0,0];for(var i =3;i<22;i++)Balance_Averagesx3_III.push((Balance_Averagesx2_III[i-1]+Balance_Averagesx2_III[i])/2);Balance_Averagesx3_III.push(0);Balance_Averagesx3_III.push(0);Balance_Averagesx3_III.push(0);
//const Three_Averaged_III = [(Balance_raw_data[0]+Balance_raw_data[1])/2];for(var i =1;i<21;i++)Three_Averaged_III.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i]+Balance_Averagesx2[i+1])/3);Three_Averaged.push((Balance_Averagesx2[20]+Balance_Averagesx2[21])/2);Three_Averaged_III.push(0);Three_Averaged_III.push(0);Three_Averaged_III.push(0);
////////////////////////////////

for(var i =4;i<26;i++)III_current_result.push(Balance_Averagesx3_III[i]);
//alert(III_current_result);
////////////////////////////////////////////////////////////////
//chart.data.datasets[0].data=V5_current_result;
//chart.data.datasets[1].data=sv1_current_result;
//chart.data.datasets[2].data=III_current_result;
//chart.update();
      }
function showOffCharts(elem, id){

  const names =["v5","sv1","III"]
if(elem.checked){
  
  chart.data.datasets[parseInt(id)].hidden=false;
  scene.add( cubes[id] );
}
else{
chart.data.datasets[parseInt(id)].hidden=true;
var selectedObject = scene.getObjectByName(names[id]);
  scene.remove( selectedObject );
}

chart.update();
}
var btnStart = document.getElementById("startAnim");
function setEnable(elem){
  if(elem.checked)
  document.getElementById("Prominent_U_Wave_Factors_Present").disabled = false;
else{
  temp =document.getElementById("Prominent_U_Wave_Factors_Present");
  temp.disabled = true;
  temp.checked= false;

}
}

//var myInterval=null;
var tick =0;
function draw(){

const data0=[],data1=[],data2=[];
 for(var i=0;i<tick;i++)
  {
    data0.push(V5_current_result[i]);
    data1.push(sv1_current_result[i]);
    data2.push(III_current_result[i]);

  }
  /*
  if(tick>22){
    clearInterval(myInterval);
    myInterval =null;
    btnStart.innerHTML = '<i class="fa-sharp fa-solid fa-play" style="color: forestgreen;"></i> Run Simulation'
  } 
  */
//alert(III_current_result);
////////////////////////////////////////////////////////////////
chart.data.datasets[0].data=data0;
chart.data.datasets[1].data=data1;
chart.data.datasets[2].data=data2;
chart.update();
tick = tick + 1;
}
/*
function startAnimation(elem){
  elem.innerHTML= '<i class="fa-sharp fa-solid fa-play" style="color: forestgreen;"></i> Stop Simulation'
  tick=0;
  UpdateData()
  if(myInterval==null)
    myInterval=setInterval(draw, 500);
  else{
    clearInterval(myInterval);
    myInterval =null;
  }
}
*/
function disableEnable(val){
  var inputs = document.getElementsByClassName("elems");
for (var i = 0; i < inputs.length; i++) {
   
      inputs[i].disabled = val;
    
}
}
 var sh = false;
 var index = 1;
 function startAnimation(steps,elem){
 
  elem.innerHTML= '<i class="fa-sharp fa-solid fa-pause" style="color: forestgreen;"></i> Pause Simulation'
  
  if(steps==22 && index==1){UpdateData();tick=0;disableEnable(true)}

 if(steps >= 0 ) {
  draw()

  let nn = 'signalleft.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
  let nn1 = 'signalright.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
 model.traverse(function (child) {
 if(child.name==nn)child.visible = true;
 if(child.name==nn1)child.visible = true;
 });
 index +=1;
 setTimeout(startAnimation, 400, steps - 1,elem);
 }
 else if(steps<0){
       
 model.traverse(function (child) {
 for(var index=0;index<=22;index++)
 {
  
  let nn = 'signalleft.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
  let nn1 = 'signalright.0'+index.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
 if(child.name==nn)child.visible = false;
 if(child.name==nn1)child.visible = false;
 }
     
 });
 index = 1
 btnStart.innerHTML = '<i class="fa-sharp fa-solid fa-play" style="color: forestgreen;"></i> Run Simulation'
 disableEnable(false) 
} 
 
 }
 </script>
</html>
