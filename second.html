<!doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="resources/css/main2.css">
       <!-- <link rel="stylesheet" href="resources/css/tooltip.css">-->
        <link href="resources/css/fontawesome.css" rel="stylesheet">
     <!--<link href="resources/css/brands.css" rel="stylesheet">-->
    <link href="resources/css/solid.css" rel="stylesheet">
    <!--<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>-->
    <script src="resources/js/chart.js"></script>
    <script src="resources/js/three.js"></script>
    </head>
  
<body>
   <div>
       <img src="resources/img/au-logo.svg"/>
	   <h3>Department of Computer Science</h3>
       <h2>T And U Wave Repolarisation Model</h2>
   </div>
   <div>
    <div style="display: flex;">
     
   <div id="eggmodel" style="flex: 1;"> <b style="font-size: 19px;">Egg Model</b><br><div id="canvas3D" style="width:80%;height:90%;display: inline-block;position: relative;"></div></div>

   <div id="graph" style="flex: 1;"> <b style="font-size: 19px;">Repolarisation Trace</b> <!--<i class="fa-solid fa-download" style="color: rgb(34, 87, 139);float:right;" onclick='saveCanvasAsImage("eggChart","chart.jpg");'></i>--><canvas id="eggChart" style="width:80%;height:90%;display: inline-block;position: relative;"></canvas></div>
  </div>
   <div id="configure" style="width: 99%;">
    <b style="font-size: 19px;">Settings</b>
    <br>
    <br>
      <div id="div-slider" style ="width: 45%;height: 200px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle;border-radius: 5px;">
        <b>Model Orientation</b>
        <br>
        <table>
          <tr>
        <td>Rotate Vertically</td>
        <td>
        <div class="range3d_1" style="--step:20; --min:0; --max:180">
          <input type="range" min="20" step="10" value="90" id="myRangeY" max="180" onmousedown="resetSliderX()"  orient="vertical">
        </div></td>
        <td style="width: 20%;"></td>
        <td>Rotate Horizontally</td>
        <td><div class="range3d" style="--step:10; --min:0; --max:180">
          <input type="range" min="20" step="10" value="90" id="myRangeX" max="180" onmousedown="resetSliderY()">
        </div></td>
      </tr>
        </table>
        
      </div>
      <div id="div-display-graph" style ="width: 45%;height: 200px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle;text-align: center;">
        <b>Display Graph</b>
        <br>
      <table style="width: 100%;">
        <tr>
        <td><input type="checkbox" id="Lead_V5"  checked="true"></td>
          <td><label for="Lead_V5"> Lead V5</label></td>
      </tr>
      <tr>
        <td><input type="checkbox" id="Lead_sV1"  checked="true"></td>
        <td><label for="Lead_sV1"> Lead sV1</label></td>
        </tr>
        <tr>
          <td><input type="checkbox" id="Lead_III" checked="true"></td>
            <td><label for="Lead_III"> Lead III</label></td>
      </tr>
      </table>
        </div>
        <div id="div-slider" style ="width: 25%;height: 300px ;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
          <b>Allocate Hypertrophy</b>
          <br>
          <table>
        <tr>
         <td><label for="Basal_Septal" style="float:left"> Basal Septal </label></td> 
         <td><input type="number" id="Basal_Septal"  min="1" max="1.5" step="0.1" value="1.0"></td>
        </tr>
        <tr>
          <td><label for="Apical_Septal" style="float:left"> Apical Septal </label></td>
          <td><input type="number" id="Apical_Septal"  min="1" max="1.5" step="0.1" value="1.0" ></td>
        </tr>
          <tr>
            <td><label for="Left_Ventricular" style="float:left"> Left Ventricular </label></td>
              <td><input type="number" id="Left_Ventricular"  min="1" max="1.5" step="0.1" value="1.0"> </td>
        </tr>
        <tr>
          <td><label for="Right_Ventricular" style="float:left"> Right Ventricular </label></td>
          <td><input type="number" id="Right_Ventricular" min="1" max="1.5" step="0.1" value="1.0" ></td>
        </tr>
        </table>
        </div>
        <div id="div-slider" style ="width: 40%;height: 300px;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
          <b>Allocate Artery Occlusion </b>
          <br>
          <table>
          <tr>
            <td></td>
          <td><p style="text-align: right;font-size: 14px;">Proximal&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;Distal&ensp;</p></td>
          </tr>
          <tr>
            <td><label for="vehicle1"> Left Anterior Descending Artery </label></td>
              <td><input type="range" class="damage" orient="horizontal" min="1" max="21" value="21" id="lad" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle2"> Left Circumflex Artery </label></td>
              <td><input type="range" class="damage" orient="horizontal" min="9" max="22" value="22" id="lcx" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Proximal Right Coronary Artery </label></td>
              <td><input type="range" class="damage" orient="horizontal" min="9" max="21" value="21" id="rca" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Right Marginal Artery </label></td>
              <td><input type="range" class="damage" orient="horizontal" min="12" max="21" value="21" id="rma" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Posterior Descending Artery </label></td>
              <td><input type="range" class="damage" orient="horizontal" min="1" max="21" value="21" id="pda" step="1"/></td>
        </tr>
          <tr>
            <td><label for="vehicle3"> Severity Of Occulsion </label></td>
              <td><input type="number" id="proximal" name="quantity" min="1" max="1.5" step="0.1" value="1.0"></td>
          </tr>
          </table>
        </div>
        <div id="div-slider" style ="width: 25%;height: 300px;display: inline-block;vertical-align: middle">
          <div id="div-slider" style ="width: 90%;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
            <b>U Wave Component</b>
            <br><br>
            <table>
              <tr></tr>
           <td> <input type="checkbox" id="Anterior_Rotated_Heart" name="vehicle1"></td>
            <td><label for="Anterior_Rotated_Heart" style="float: left;"> Anterior Rotated Heart</label></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="Prominent_U_Wave_Factors_Present"></td>
            <td> <label for="Prominent_U_Wave_Factors_Present" style="float: left;"> Prominent U Wave Factors Present </label></td>
            </tr>
            </table>
          </div>
          <div id="div-slider" style ="width: 90%;;border-width: 1px;border-color: black;border-style: solid;display: inline-block;vertical-align: middle">
            
            <button id="Instructions" onclick="showTooltip();">
              <i class="fa-sharp fa-solid fa-circle-info" style="color: forestgreen;"></i> Instructions
          </button><br><br>
   <!--<div class="tooltip" onc><span class="tooltiptextleft">Select either "Custom" or "Presets" value</span></div>-->
   Presets

   <select name="damage" id="preset" onchange="presets(this)">
     <option value="1">No Coronary Artery Occlusion</option>
     <option value="2">Proximal LMCA Occlusion</option>
     <option value="3">Proximal RCA Occlusion</option>
     <option value="4">Proximal LAD Occlusion</option>
     <option value="5">Proximal LCx Occlusion</option>
     <option value="6">Proximal RMA Occlusion</option>
     <option value="7">Proximal PDA Occlusion</option>

   </select>
            
            <br><br>
            <button id="startAnim" onclick="UpdateData();">
              <i class="fa-sharp fa-solid fa-play" style="color: forestgreen;"></i> Run Simulation
          </button>
          </div>

          </div>
          
  </div>
   </div>
</div>

<div>
  This work is based on the paper from the <a href="scholar.google.com">link</a>
  <br>
  Our Research Team:<b>
  Arvind Mistry, John Cannon, Kieran Stone, Daniel Cyrus, Faisal Rezwan
  </b>
  <br>Developers: Daniel Cyrus
  <br>
  Contact: <a href="mailto:far8@aber.ac.uk">Faisal Rezwan</a>
  
</div>
</body>

<script>



/////////////////////////////////////////////////
const container = document.getElementById("canvas3D");
var sliderX = document.getElementById("myRangeX");
var sliderY = document.getElementById("myRangeY");

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 75, 300 / 300, 0.1, 1000 );

const renderer = new THREE.WebGLRenderer();
renderer.setClearColor( 0xffffff, 1);
renderer.setSize(450,300);
document.body.appendChild(renderer.domElement);

////////////////////Sphere
/*
const geometrysp = new THREE.BoxGeometry( 7, 5, 0.01 );
const loaderEyesp = new THREE.TextureLoader();
  
  const materialEyesp = new THREE.MeshBasicMaterial({
    map: loaderEyesp.load('resources/img/circle.png'),
    transparent: true, opacity: 1, color: 0xffffff
  });
const cube1 = new THREE.Mesh( geometry1, materialEye1 );
scene.add( cube1 );
*/
///////////////////blue egg
const geometry = new THREE.BoxGeometry( 0.01, 6, 7 );
const loaderEye = new THREE.TextureLoader();
  
  const materialEye = new THREE.MeshBasicMaterial({
    map: loaderEye.load('resources/img/egg.png'),
    transparent: true, opacity: 1, color: 0xffffff
  });

const cube = new THREE.Mesh( geometry, materialEye );
scene.add( cube );

/////circle
const geometry1 = new THREE.BoxGeometry( 7, 5, 0.01 );
const loaderEye1 = new THREE.TextureLoader();
  
  const materialEye1 = new THREE.MeshBasicMaterial({
    map: loaderEye1.load('resources/img/circle.png'),
    transparent: true, opacity: 1, color: 0xffffff
  });
const cube1 = new THREE.Mesh( geometry1, materialEye1 );
scene.add( cube1 );
/////yellow egg
const geometry2 = new THREE.BoxGeometry( 6, 0.01, 7 );
const loaderEye2 = new THREE.TextureLoader();
  
  const materialEye2 = new THREE.MeshBasicMaterial({
    map: loaderEye2.load('resources/img/egg1.png'),
    transparent: true, opacity: 1, color: 0xffffff
  });
const cube2 = new THREE.Mesh( geometry2, materialEye2 );
scene.add( cube2 );


//////////////lines///////////////
const geometryLine = new THREE.BoxGeometry( .1, 7, .1 );
const loaderEyeline = new THREE.TextureLoader();
  
  const materialEyeline = new THREE.MeshBasicMaterial({
    transparent: false, opacity: 1, color: 0x00ff00
  });
const cubeLine = new THREE.Mesh( geometryLine, materialEyeline );
scene.add( cubeLine );


const geometryLine1 = new THREE.BoxGeometry( .1, .1, 7 );
const loaderEyeline1 = new THREE.TextureLoader();
  
  const materialEyeline1 = new THREE.MeshBasicMaterial({
    transparent: false, opacity: 1, color: 0x0000ff
  });
const cubeLine1 = new THREE.Mesh( geometryLine1, materialEyeline1 );
scene.add( cubeLine1 );
////////////////////////////////////

camera.position.z = 6;
camera.position.x = -0.55;

cube1.position.y = 0.35;
cube1.position.x = -0.75;

cubeLine.position.x = -.65
cubeLine1.position.x = .0

function animate() {
	requestAnimationFrame( animate );
    var deg=(sliderX.value * Math.PI) /180;
    var deg1=(sliderY.value * Math.PI) /180;
	//cube.rotation.x += 0.01;
	  cube.rotation.y = deg;
    cube1.rotation.y = deg;
    cube2.rotation.y = deg;

    cube.rotation.z = deg1;
    cube1.rotation.z = deg1;
    cube2.rotation.z = deg1;

    cubeLine.rotation.y = deg;
    cubeLine.rotation.z = deg1;

    cubeLine1.rotation.y = deg;
    cubeLine1.rotation.z = deg1;

	renderer.render( scene, camera );
}

function resetSliderX(){
    sliderX.value = 92
}

function resetSliderY(){
    sliderY.value = 90
}
animate();
container.appendChild( renderer.domElement );
//////////////////////////////////////////////CALCULATION///////////
V5_Current_Result = [0,	0,	0.0625,	0.25,	0.4375,	0.4375,	0.25,	0.0625,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0.03125,	0.0625,	0,	0,	0];
sV1_Current_Result =	[0,	0,	-0.125,	-0.5,	-0.875,	-0.875,	-0.5,	-0.125,	0,	0,	0,	0,	0, 0,	0,	0,	0,	-0.0625,	-0.125,	0,	0,	0];
III_Current_Result =	[0,	0,	0.0625,	0.25,	0.4375,	0.5,	0.5,	0.5,	0.4375,	0.25,	0.0625,	0,	0,	0,	0,	0,	0,	0.03125,	0.0625,	0,	0,	0];


///////////graph
  var xValues = [25,	50,	75,	100,	125,	150,	175,	200,	225,	250,	275,	300,	325,	350,	375,	400,	425,	450,	475,	500,	525,	550];
    var chart =new Chart("eggChart", {
  type: "line",
  data: {
    labels: xValues,
    datasets: [
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead V5",
      data: V5_Current_Result,
      borderColor: "blue",
      fill: false,
      borderDash: [5,5],
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead sV1",
      data: sV1_Current_Result,
      borderColor: "red",
      fill: false,
      borderDash: [5,5],
    },
    {
      pointStyle: 'line',
      pointRadius: 0,
      label:"Lead III",
      data: III_Current_Result,
      borderColor: "green",
      fill: false,
      borderDash: [5,5],
    }]
  },
  
  options: {
    legend: {display: true,labels: {
      usePointStyle: true
    }},
    scales: {
      xAxes: [{ticks: {min: 0, max:360},scaleLabel:{display: true,labelString: 'mSec'}}],
      yAxes: [{ticks: {min: -1.5, max:+1.5},scaleLabel:{display: true,labelString: 'mV'}}],
    }
  }
});

function presets(elem){
  alert(elem.value);
}

function UpdateData(){
LAD_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var ladVal = parseInt(document.getElementById("lad").value)
for(var i=0;i<ladVal-1;i++)LAD_range[i]=0;

LCX_range = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
var lcxVal = parseInt(document.getElementById("lcx").value)
for(var i=8;i<lcxVal-1;i++)LCX_range[i]=0;

RCA_range = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
var rcaVal = parseInt(document.getElementById("rca").value)
for(var i=8;i<rcaVal-1;i++)RCA_range[i]=0;

RMA_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var rmaVal = parseInt(document.getElementById("rma").value)
for(var i=11;i<rmaVal-1;i++)RMA_range[i]=0;

PDA_range = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
var pdaVal = parseInt(document.getElementById("pda").value)
for(var i=0;i<pdaVal-1;i++)PDA_range[i]=0;
/////////FRONT PAGE
var U_Wave_present= 	0;
var Prominent_U_Wave_present=	0;

var Prominent_U_Wave = 0;
var U_wave = 0;

var Left_Ventricular_Hypertrophy =	1;
var Basal_Septal_Hypertrophy=	1;
var Apical_Septal_Hypertrophy=	1;
var Right_Ventricular_Hypertrophy=1;

if(LCX_range[20]==1)Prominent_U_Wave=1;
if(LCX_range[19]==1)U_wave=1;
var Severity_of_Damage =	0.5;



  if(document.getElementById("Anterior_Rotated_Heart").checked)U_Wave_present= 	1;
  if(document.getElementById("Prominent_U_Wave_Factors_Present").checked)Prominent_U_Wave_present= 	1;
 

///////////Lead v5 page
var Posterior_Signal_Strength = 0.5;
var Septal_Signal_Strenght	=		0.5;
var Anterior_Signal_Strength	=	0.5;


const Posterior_Wall_signal = [0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0]; 
const Posterior_Wall_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Posterior_Wall_signal[i]));
const U_wave_extended_Posterior_Wall = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const U_wave_with_Hypertrophy = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall[i]));
const Prominent_U_wave_extended_Posterior_Wall_further=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const Prominent_U_wave_with_hypertrophy=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further[i]));
const Basal_Septum_signal = [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_Septum_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Basal_Septum_signal_with_hypertrophy.push((Basal_Septal_Hypertrophy*Septal_Signal_Strenght*Basal_Septum_signal[i]));
const Apical_Septum_signal = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_Septum_signal_with_hypertrophy =[];for(var i =0;i<22;i++)Apical_Septum_signal_with_hypertrophy.push((Apical_Septal_Hypertrophy*Septal_Signal_Strenght*Apical_Septum_signal[i]));
const Anterior_Wall_signal = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy = [];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy.push((Anterior_Signal_Strength*Right_Ventricular_Hypertrophy*Anterior_Wall_signal[i]));
const Net_Towards_signal=[];for(var i =0;i<22;i++)Net_Towards_signal.push((Posterior_Wall_signal_with_hypertrophy[i]+U_wave_with_Hypertrophy[i]+Prominent_U_wave_with_hypertrophy[i]+Basal_Septum_signal_with_hypertrophy[i]+Apical_Septum_signal_with_hypertrophy[i]+Anterior_Wall_signal_with_hypertrophy[i]));

const Left_Anterior_Descending_Artery_septal_damage_value = [1,1,1,1,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_septal_damage = LAD_range;
const LAD_septal_damage_with_severity = [];for(var i =0;i<22;i++)LAD_septal_damage_with_severity.push((Septal_Signal_Strenght*Severity_of_Damage*Left_Anterior_Descending_Artery_septal_damage_value[i]*Left_Anterior_Descending_Artery_septal_damage[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value = [0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage =LAD_range;
const LAD_anterior_damage_with_severity = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity.push((Anterior_Signal_Strength*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value[i]*Left_Anterior_Descending_Artery_anterior_damage[i]));
const Left_Circumflex_Artery_posterior_damage_value = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Left_Circumflex_Artery_from_posterior_damage = LCX_range;
const LCx_posterior_damage_with_severity = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage[i]));
//LCx_U_wave_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0]
const LCx_U_wave_damage_value =[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present*U_wave,0];
const LCx_U_wave_damage_with_severity = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*LCx_U_wave_damage_value[i]));
const LCx_Prominent_U_Wave_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const LCx_U_wave_damage_value_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present * Prominent_U_Wave];
const LCx_U_wave_damage_with_severity_1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*LCx_U_wave_damage_value_1[i]));
const Right_Coronary_Artery_left_anterior_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_left_anterior_damage = RCA_range;
const RCA_left_anterior_damage_with_severity = [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity.push((Anterior_Signal_Strength*Severity_of_Damage*Right_Coronary_Artery_left_anterior_damage_value[i]*Right_Coronary_Artery_left_anterior_damage[i]));
const Posterior_Descending_Artery_posterior_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0];
const Posterior_Descending_Artery_posterior_damage = PDA_range;
const PDA_posterior_damage_with_severity =[];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value[i]*Posterior_Descending_Artery_posterior_damage[i]));
const Net_Towards_damage = [];for(var i =0;i<22;i++)Net_Towards_damage.push((LAD_septal_damage_with_severity[i]+LAD_anterior_damage_with_severity[i]+LCx_posterior_damage_with_severity[i]+LCx_U_wave_damage_with_severity[i]+LCx_U_wave_damage_with_severity_1[i]+RCA_left_anterior_damage_with_severity[i]+PDA_posterior_damage_with_severity[i]));

const Net_Result_Towards_side = [];for(var i =0;i<22;i++)Net_Result_Towards_side.push(Net_Towards_signal[i]-Net_Towards_damage[i]);

//////////////////////////////////
const Posterior_Wall_signal_1 =  [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0]
const Posterior_Wall_signal_with_hypertrophy_1= [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_1[i]));
const U_wave_extended_Posterior_Wall_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const U_wave_with_Hypertrophy_1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Prominent_U_wave_with_hypertrophy_1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_1.push((Posterior_Signal_Strength*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_1[i]));
const Basal_septum_signal_1 = [1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_septum_signal_with_hypertrophy_1 = [];for(var i =0;i<22;i++)Basal_septum_signal_with_hypertrophy_1.push((Septal_Signal_Strenght*Basal_Septal_Hypertrophy*Basal_septum_signal_1[i]));
const Anterior_Wall_signal_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy_1 =[];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_1.push((Anterior_Signal_Strength*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_1[i]));
const Net_Away_From_signal_1 = [];for(var i=0;i<22;i++)Net_Away_From_signal_1.push((Posterior_Wall_signal_with_hypertrophy_1[i]+U_wave_with_Hypertrophy_1[i]+Prominent_U_wave_with_hypertrophy_1[i]+Basal_septum_signal_with_hypertrophy_1[i]+Anterior_Wall_signal_with_hypertrophy_1[i]));

const Right_Coronary_Artery_right_anterior_damage_value_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Right_Coronary_Artery_right_anterior_damage_1 = RCA_range;
const RCA_right_anterior_damage_with_severity_1 = [];for(var i =0;i<22;i++)RCA_right_anterior_damage_with_severity_1.push((Anterior_Signal_Strength*Severity_of_Damage*Right_Coronary_Artery_right_anterior_damage_1[i]));
const Right_Marginal_Artery_damage_value_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Marginal_Artery_damage_1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const RMA_damage_with_severity_1 = [];for(var i =0;i<22;i++)RMA_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*Right_Marginal_Artery_damage_value_1[i]*Right_Marginal_Artery_damage_1[i]));
const Posterior_Descending_Artery_posterior_damage_value_1 =[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Posterior_Descending_Artery_posterior_damage_1 = PDA_range;
const PDA_posterior_damage_with_severity_1 =  [];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_1.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1[i]*Posterior_Descending_Artery_posterior_damage_1[i]));
const Posterior_Descending_Artery_septal_damage_value_1 = [1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_septal_damage_1 = PDA_range;
const PDA_septal_damage_with_severity_1 =  [];for(var i =0;i<22;i++)PDA_septal_damage_with_severity_1.push((Septal_Signal_Strenght*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1[i]*Posterior_Descending_Artery_septal_damage_1[i]));
const Net_Away_From_damage_1 = [];for(var i =0;i<22;i++)Net_Away_From_damage_1.push((RCA_right_anterior_damage_with_severity_1[i]+RMA_damage_with_severity_1[i]+PDA_posterior_damage_with_severity_1[i]+PDA_septal_damage_with_severity_1[i]));

const Net_Result_Away_From_side = [];for(var i =0;i<22;i++)Net_Result_Away_From_side.push(Net_Away_From_signal_1[i]-Net_Away_From_damage_1[i]);
///////////////////////////////
const Balance_raw_data = [];for(var i =0;i<22;i++)Balance_raw_data.push(Net_Result_Towards_side[i]-Net_Result_Away_From_side[i]);
const Balance_averagesx1 = [0];for(var i =1;i<22;i++)Balance_averagesx1.push((Balance_raw_data[i-1]+Balance_raw_data[i])/2);
const Balance_Averagesx2 = [0,0];for(var i =2;i<22;i++)Balance_Averagesx2.push((Balance_averagesx1[i-1]+Balance_averagesx1[i])/2);
const Balance_Averagesx3 =[0,0,0];for(var i =3;i<22;i++)Balance_Averagesx3.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i])/2);Balance_Averagesx3.push(0);Balance_Averagesx3.push(0);Balance_Averagesx3.push(0);
const Three_Averaged = [(Balance_raw_data[0]+Balance_raw_data[1])/2];for(var i =1;i<21;i++)Three_Averaged.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i]+Balance_Averagesx2[i+1])/3);Three_Averaged.push((Balance_Averagesx2[20]+Balance_Averagesx2[21])/2);Three_Averaged.push(0);Three_Averaged.push(0);Three_Averaged.push(0);
////////////////////////////////
const V5_current_result = [];for(var i =3;i<25;i++)V5_current_result.push(Balance_Averagesx3[i]);
/////////////////////////Lead SV1 //////////
//***************************************************************
var Posterior_Signal_Strength_sv1 = 1;
var Septal_Signal_Strenght_sv1	=		1;
var Anterior_Signal_Strength_sv1	=	1;


const Posterior_Wall_signal_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0]; 
const Posterior_Wall_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_sv1[i]));
const U_wave_extended_Posterior_Wall_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const U_wave_with_Hypertrophy_sv1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_sv1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_sv1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Prominent_U_wave_with_hypertrophy_sv1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_sv1[i]));
const Basal_Septum_signal_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Basal_Septum_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Basal_Septum_signal_with_hypertrophy_sv1.push((Basal_Septal_Hypertrophy*Septal_Signal_Strenght*Basal_Septum_signal_sv1[i]));
const Apical_Septum_signal_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_Septum_signal_with_hypertrophy_sv1 =[];for(var i =0;i<22;i++)Apical_Septum_signal_with_hypertrophy_sv1.push((Apical_Septal_Hypertrophy*Septal_Signal_Strenght*Apical_Septum_signal_sv1[i]));
const Anterior_Wall_signal_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Anterior_Wall_signal_with_hypertrophy_sv1 = [];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_sv1.push((Anterior_Signal_Strength_sv1*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_sv1[i]));
const Net_Towards_signal_sv1=[];for(var i =0;i<22;i++)Net_Towards_signal_sv1.push((Posterior_Wall_signal_with_hypertrophy_sv1[i]+U_wave_with_Hypertrophy_sv1[i]+Prominent_U_wave_with_hypertrophy_sv1[i]+Basal_Septum_signal_with_hypertrophy_sv1[i]+Apical_Septum_signal_with_hypertrophy_sv1[i]+Anterior_Wall_signal_with_hypertrophy_sv1[i]));

const Left_Anterior_Descending_Artery_septal_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_septal_damage_sv1 = LAD_range;
const LAD_septal_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LAD_septal_damage_with_severity_sv1.push((Septal_Signal_Strenght_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_septal_damage_value_sv1[i]*Left_Anterior_Descending_Artery_septal_damage_sv1[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_sv1 =LAD_range;
const LAD_anterior_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value_sv1[i]*Left_Anterior_Descending_Artery_anterior_damage_sv1[i]));
const Left_Circumflex_Artery_posterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Circumflex_Artery_from_posterior_damage_sv1 = LCX_range;
const LCx_posterior_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage_sv1[i]));
const Right_Coronary_Artery_left_anterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,2,2,1,0];
const Right_Coronary_Artery_left_anterior_damage_sv1 = RCA_range;
const RCA_left_anterior_damage_with_severity_sv1= [];for(var i =0;i<22;i++)RCA_left_anterior_damage_with_severity_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Right_Coronary_Artery_left_anterior_damage_value_sv1[i]*Right_Coronary_Artery_left_anterior_damage_sv1[i]));
const Posterior_Descending_Artery_posterior_damage_value_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_posterior_damage_sv1 = PDA_range;
const PDA_posterior_damage_with_severity_sv1 =[];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_sv1.push((Posterior_Signal_Strength*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_sv1[i]*Posterior_Descending_Artery_posterior_damage_sv1[i]));
const Net_Towards_damage_sv1 = [];for(var i =0;i<22;i++)Net_Towards_damage_sv1.push((LAD_septal_damage_with_severity_sv1[i]+LAD_anterior_damage_with_severity_sv1[i]+LCx_posterior_damage_with_severity_sv1[i]+RCA_left_anterior_damage_with_severity_sv1[i]+PDA_posterior_damage_with_severity_sv1[i]));

const Net_Result_Towards_side_sv1 = [];for(var i =0;i<22;i++)Net_Result_Towards_side_sv1.push(Net_Towards_signal_sv1[i]-Net_Towards_damage_sv1[i]);

//////////////////////////////////
const Posterior_Wall_signal_1_sv1 =  [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0]
const Posterior_Wall_signal_with_hypertrophy_1_sv1= [];for(var i =0;i<22;i++)Posterior_Wall_signal_with_hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Posterior_Wall_signal_1_sv1[i]));
const U_wave_extended_Posterior_Wall_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0];
const U_wave_with_Hypertrophy_1_sv1 = [];for(var i =0;i<22;i++)U_wave_with_Hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*U_wave_extended_Posterior_Wall_1_sv1[i]));
const Prominent_U_wave_extended_Posterior_Wall_further_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const Prominent_U_wave_with_hypertrophy_1_sv1=[];for(var i =0;i<22;i++)Prominent_U_wave_with_hypertrophy_1_sv1.push((Posterior_Signal_Strength_sv1*Left_Ventricular_Hypertrophy*Prominent_U_wave_extended_Posterior_Wall_further_1_sv1[i]));
const Apical_septum_signal_1_sv1 = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Apical_septum_signal_with_hypertrophy_1_sv1 = [];for(var i =0;i<22;i++)Apical_septum_signal_with_hypertrophy_1_sv1.push((Septal_Signal_Strenght_sv1*Basal_Septal_Hypertrophy*Apical_septum_signal_1_sv1[i]));
const Anterior_Wall_signal_1_sv1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0];
const Anterior_Wall_signal_with_hypertrophy_1_sv1 =[];for(var i =0;i<22;i++)Anterior_Wall_signal_with_hypertrophy_1_sv1.push((Anterior_Signal_Strength_sv1*Right_Ventricular_Hypertrophy*Anterior_Wall_signal_1_sv1[i]));
const Net_Away_From_signal_1_sv1 = [];for(var i=0;i<22;i++)Net_Away_From_signal_1_sv1.push((Posterior_Wall_signal_with_hypertrophy_1_sv1[i]+U_wave_with_Hypertrophy_1_sv1[i]+Prominent_U_wave_with_hypertrophy_1_sv1[i]+Apical_septum_signal_with_hypertrophy_1_sv1[i]+Anterior_Wall_signal_with_hypertrophy_1_sv1[i]));

const Right_Coronary_Artery_right_anterior_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Right_Coronary_Artery_right_anterior_damage_1_sv1 = RCA_range;
const RCA_right_anterior_damage_with_severity_1_sv1 = [];for(var i =0;i<22;i++)RCA_right_anterior_damage_with_severity_1_sv1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Right_Coronary_Artery_right_anterior_damage_1_sv1[i]));
const Left_Anterior_Descending_Artery_anterior_damage_value_sv1_1 = [0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Left_Anterior_Descending_Artery_anterior_damage_sv1_1 =LAD_range;
const LAD_anterior_damage_with_severity_sv1_1 = [];for(var i =0;i<22;i++)LAD_anterior_damage_with_severity_sv1_1.push((Anterior_Signal_Strength_sv1*Severity_of_Damage*Left_Anterior_Descending_Artery_anterior_damage_value_sv1_1[i]*Left_Anterior_Descending_Artery_anterior_damage_sv1_1[i]));
//LCx_U_wave_damage_value = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present,0]
//const Left_Circumflex_Artery_posterior_damage_value_sv1_1 = [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Left_Circumflex_Artery_from_posterior_damage_sv1_1 = LCX_range;
const LCx_posterior_damage_with_severity_sv1_1 = [];for(var i =0;i<22;i++)LCx_posterior_damage_with_severity_sv1_1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Left_Circumflex_Artery_from_posterior_damage_sv1_1[i]));
const LCx_U_wave_damage_value_sv1 =[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U_Wave_present*U_wave,0];
const LCx_U_wave_damage_with_severity_sv1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*LCx_U_wave_damage_value_sv1[i]));
//const LCx_Prominent_U_Wave_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present];
const LCx_U_wave_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Prominent_U_Wave_present * Prominent_U_Wave];
const LCx_U_wave_damage_with_severity_1_sv1 = [];for(var i =0;i<22;i++)LCx_U_wave_damage_with_severity_1_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*LCx_U_wave_damage_value_1_sv1[i]));
const Posterior_Descending_Artery_posterior_damage_value_1_sv1 =[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0];
const Posterior_Descending_Artery_posterior_damage_1_sv1 = PDA_range;
const PDA_posterior_damage_with_severity_1_sv1 =  [];for(var i =0;i<22;i++)PDA_posterior_damage_with_severity_1_sv1.push((Posterior_Signal_Strength_sv1*Severity_of_Damage*Posterior_Descending_Artery_posterior_damage_value_1_sv1[i]*Posterior_Descending_Artery_posterior_damage_1_sv1[i]));
const Posterior_Descending_Artery_septal_damage_value_1_sv1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const Posterior_Descending_Artery_septal_damage_1_sv1 = PDA_range;
const PDA_septal_damage_with_severity_1_sv1 =  [];for(var i =0;i<22;i++)PDA_septal_damage_with_severity_1_sv1.push((Septal_Signal_Strenght_sv1*Severity_of_Damage*Posterior_Descending_Artery_septal_damage_value_1_sv1[i]*Posterior_Descending_Artery_septal_damage_1_sv1[i]));
const Net_Away_From_damage_1_sv1 = [];for(var i =0;i<22;i++)Net_Away_From_damage_1_sv1.push((RCA_right_anterior_damage_with_severity_1_sv1[i]+LAD_anterior_damage_with_severity_sv1_1[i]+LCx_posterior_damage_with_severity_sv1_1[i]+LCx_U_wave_damage_with_severity_sv1[i]+LCx_U_wave_damage_with_severity_1_sv1[i]+PDA_posterior_damage_with_severity_1_sv1[i]+PDA_septal_damage_with_severity_1_sv1[i]));

const Net_Result_Away_From_side_sv1 = [];for(var i =0;i<22;i++)Net_Result_Away_From_side_sv1.push(Net_Away_From_signal_1_sv1[i]-Net_Away_From_damage_1_sv1[i]);
///////////////////////////////
const Balance_raw_data_sv1 = [];for(var i =0;i<22;i++)Balance_raw_data_sv1.push(Net_Result_Towards_side_sv1[i]-Net_Result_Away_From_side_sv1[i]);
const Balance_averagesx1_sv1 = [0];for(var i =1;i<22;i++)Balance_averagesx1_sv1.push((Balance_raw_data_sv1[i-1]+Balance_raw_data_sv1[i])/2);
const Balance_Averagesx2_sv1 = [0,0];for(var i =2;i<22;i++)Balance_Averagesx2_sv1.push((Balance_averagesx1_sv1[i-1]+Balance_averagesx1_sv1[i])/2);
const Balance_Averagesx3_sv1 =[0,0,0];for(var i =3;i<22;i++)Balance_Averagesx3_sv1.push((Balance_Averagesx2_sv1[i-1]+Balance_Averagesx2_sv1[i])/2);Balance_Averagesx3_sv1.push(0);Balance_Averagesx3_sv1.push(0);Balance_Averagesx3_sv1.push(0);
//const Three_Averaged_sv1 = [(Balance_raw_data[0]+Balance_raw_data[1])/2];for(var i =1;i<21;i++)Three_Averaged_sv1.push((Balance_Averagesx2[i-1]+Balance_Averagesx2[i]+Balance_Averagesx2[i+1])/3);Three_Averaged.push((Balance_Averagesx2[20]+Balance_Averagesx2[21])/2);Three_Averaged_sv1.push(0);Three_Averaged_sv1.push(0);Three_Averaged_sv1.push(0);
////////////////////////////////
const sv1_current_result = [];for(var i =3;i<25;i++)sv1_current_result.push(Balance_Averagesx3_sv1[i]);


chart.data.datasets[0].data=V5_current_result;
chart.data.datasets[1].data=sv1_current_result;
      chart.update();
      }
</script>
</html>
